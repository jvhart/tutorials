

export AIRFLOW__CORE__FERNET_KEY=<copy/paste key>
export AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=<SQL conn str>
export AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql://postgres:postgres@localhost:5432/airflow_dev
export AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=sqlite:////home/jvhart/tutorials/airflow/airflow/airflow.db



from cryptography.fernet import Fernet
key = Fernet.generate_key()
print(key)

# Linux
git clone https://github.com/jvhart/tutorials.git
git checkout development

deactivate
rm -r venv

export AIRFLOW__CORE__LOAD_EXAMPLES=False
export AIRFLOW_HOME=~/tutorials/airflow/airflow
export AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=sqlite:////home/jvhart/tutorials/airflow/airflow/airflow.db
export AIRFLOW__CORE__FERNET_KEY=V8a99AlMBrMOdKL-ng2cy0QlDCeY2uGdUOUOLTXyTLs=

pip install virtualenv
python3 -m virtualenv venv 
pip install --upgrade pip
source venv/bin/activate
pip install -r requirements.txt

# Windows
set AIRFLOW__CORE__LOAD_EXAMPLES=False
set AIRFLOW_HOME=C:\Code Repository\tutorials\airflow\airflow
set AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql://postgres:postgres@localhost:5432/airflow_dev
set AIRFLOW__CORE__FERNET_KEY=V8a99AlMBrMOdKL-ng2cy0QlDCeY2uGdUOUOLTXyTLs=

python -m venv venv 
venv\scripts\activate
pip install -r requirements.txt


airflow db init

airflow dags list

airflow tasks test tutorial_01 print_date

airflow tasks test my_own_dag_01 calculate_date

airflow tasks test my_own_dag_01 count_up

airflow tasks test my_own_dag_01 count_down

airflow dags backfill my_own_dag_01 -s 2020-01-01 -e 2020-01-10

airflow dags backfill test_fernet_encryption -s 2020-01-01 -e 2020-01-10

